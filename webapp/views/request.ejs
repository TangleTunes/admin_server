<!DOCTYPE html>
<html>
  <head>
    <title>TangleTunes</title>
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="icon" href="/static/favicon.svg">
  </head>
  <body onload="fill_info()">
    <main class="container">
      <h1 align="center">Upload a song to TangleTunes</h1>
      <form enctype="multipart/form-data" action="/validator/request" onsubmit="request(this); return false;" method="POST">
        <input id="contract" type="hidden" value="<%= contract %>">

        <input id="nonce" type="hidden" name="nonce" value="<%= author_nonce %>">
        <input id="sig" type="hidden" name="sig">
        
        <div class="grid">
          <label for="rightholder_addr">
            Rightholder's address
            <input id="rightholder_addr" type="text" value="<%= rightholder.address %>" aria-invalid="false" readonly>
          </label>
          <label for="rightholder_name">
            Rightholder's Name
            <input id="rightholder_name" type="text" value="<%= rightholder.name %>" readonly>
          </div>
        </div>

        <div class="grid">
          <label for="author_addr">
            Author's address
            <input id="author_addr" type="text" name="author_addr">
          </label>
          <label for="author_name">
            Author's Name
            <input id="author_name" type="text" readonly>
          </div>
        </div>

        <label for="name">
          Name
          <input id="name" type="text" name="name">
        </label>

        <div class="grid">
          <label for="price">
            Price in Mi
            <input id="price" type="number" step="0.000001" name="price">
          </label>
          <label for="price_equiv">
            Mi / min
            <input id="price_equiv" type="number" step="0.000001" readonly>
          </label>
        </div>

        <label for="contact">
          Contact email address
          <input id="contact" type="email" name="contact">
        </label>

        <label for="file">
          Select file
          <input id="file" type="file" name="file" accept="audio/mpeg"/>
        </label>

        <button type="submit">Request song</button>
      </form>
    </main>
    
    
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="/static/js/main.js"></script>
  </body>
</html>